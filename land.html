<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<script src="js/rem.js"></script>
		<script src="jquery/jquery.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			section > div{
				display: flex;
				align-items: center;
			}
			section > div >img{
				margin-left: 5%;
				width: .5rem;
				height: .5rem;
				border-radius: 50%;
			}
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav">
			<div class="one" id="">
				<a href="index.html"><img id="back" src="./img/back.jpg" ></a>
			</div>
			<h1 class="mui-title">注册</h1>
			<div class="two" id="">
				<input id="play" type="button" onclick="autoPlay()" value="播放" />
				<input id="pause" type="button" onclick="closePlay()" value="关闭" />
				<img id="photo" src="img/open.jpg" >
				<audio id="myaudio" src="back.mp3" hidden="flase" autoplay="true" loop="true"></audio>
			</div>
		</header>
		
		
		
		
		
		<section>
			<div id="hu">
				<h1><span id="">用户名</span></h1>
				<input type="" name="" id="zhuhu" value="" />
				<img src="img/red.jpg">
			</div>
			<div id="pass">
				<h1><span id="">密码</span></h1>
				<input type="password" name="" id="passone" disabled="disabled" value="" />
				<img src="img/red.jpg">
			</div>
			<div id="twopass">
				<h1><span id="">确认密码</span></h1>
				<input type="password" name="" id="passtwo" disabled="disabled" value="" />
				<img src="img/red.jpg">
			</div>
			<div id="you">
				<h1><span id="">邮箱</span></h1>
				<input type="" name="" id="zhuyou" disabled="disabled" value="" />
				<img src="img/red.jpg">
			</div>
			<div id="shouji">
				<h1><span id="">手机</span></h1>
				<input type="" name="" id="haoma" disabled="disabled" value="" />
				<img src="img/red.jpg">
			</div>
		</section>
		
		
		
		<footer>
			<p>
				<a name='0' id="ti">提交</a>
			</p>
			<p>
				<a id="" href="land.html">重置</a>
			</p>
		</footer>
		
		<script type="text/javascript">
			
			
			$('#zhuhu').blur(function(){
				let val = $('#zhuhu').val()
				let zeo = /^[\u4e00-\u9fa5]+$/;
				let zet = /^[a-zA-Z]{1,}[0-9A-Za-z]{7,}$/;
				if(val == ''){
					alert('请输入用户名')
				}else{
					if (!zeo.test(val)) {
						if(zet.test(val)){
							if(localStorage.getItem(val) == null){
								$('#hu > img').attr('src','img/lv.jpg')
								$(this).attr('disabled','disabled')
								$('#passone').removeAttr('disabled')
							}else{
								$('#hu > img').attr('src','img/red.jpg')
								alert('该账号已存在，请重新输入！')
							}
						}else{
							$('#hu > img').attr('src','img/red.jpg')
							alert('请输入首字为字母，至少8位字母加数字')
						}
					}else{
						$('#hu > img').attr('src','img/red.jpg')
						alert('不能包含汉字！')
					}
				}
				
			})
			$('#passone').blur(function(){
				let val = $('#passone').val()
				let zeo = /^[\u4e00-\u9fa5]+$/;
				let zet = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,}$/;
				if(val == ''){
					alert('请输入密码')
				}else{
					if (!zeo.test(val)) {
						if(zet.test(val)){
							$('#pass > img').attr('src','img/lv.jpg')
							$(this).attr('disabled','disabled')
							$('#passtwo').removeAttr('disabled')
							// localStorage.setItem(val,'')
						}else{
							$('#pass > img').attr('src','img/red.jpg')
							alert('请输入至少8位字母加数字')
						}
					}else{
						$('#pass > img').attr('src','img/red.jpg')
						alert('不能包含汉字！')
					}
				}
			})
			$('#passtwo').blur(function(){
				let val = $('#passtwo').val()
				if (val == $('#passone').val()) {
					$('#twopass > img').attr('src','img/lv.jpg')
					$(this).attr('disabled','disabled')
					$('#zhuyou').removeAttr('disabled')
				}else{
					$('#twopass > img').attr('src','img/red.jpg')
					alert('两次密码不一致')
				}
			})
			$('#zhuyou').blur(function(){
				let val = $('#zhuyou').val()
				let zeo = /^[\u4e00-\u9fa5]+$/;
				let zet = /^\w{5,20}@(163|qq|sina).com$/;
				if(val == ''){
					alert('请输入邮箱')
				}else{
					if (!zeo.test(val)) {
						if(zet.test(val)){
							$('#you > img').attr('src','img/lv.jpg')
							$(this).attr('disabled','disabled')
							$('#haoma').removeAttr('disabled')
							// localStorage.setItem(val,'')
						}else{
							$('#you > img').attr('src','img/red.jpg')
							alert('邮箱格式错误！')
						}
					}else{
						$('#you > img').attr('src','img/red.jpg')
						alert('不能包含汉字！')
					}
				}
			})
			$('#haoma').blur(function(){
				let val = $('#haoma').val()
				let zeo = /^[\u4e00-\u9fa5]+$/;
				let zet = /^[1][3,4,5,7,8][0-9]{9}$/;
				if(val == ''){
					alert('请输入手机')
				}else{
					if (!zeo.test(val)) {
						if(zet.test(val)){
							$('#shouji > img').attr('src','img/lv.jpg')
							$(this).attr('disabled','disabled')
							// localStorage.setItem(val,'')
							$('#ti').attr('href','index.html')
							$('#ti').click(function(){
								localStorage.setItem($('#zhuhu').val(),$('#passone').val())
							})
						}else{
							$('#shouji > img').attr('src','img/red.jpg')
							alert('手机格式错误！')
						}
					}else{
						$('#shouji > img').attr('src','img/red.jpg')
						alert('不能包含汉字！')
					}
				}
			})
			
			
		
			
			
			
			
		</script>
		
		
		<script src="js/reset.js"></script>
	</body>
</html>
